<script>
  import '@cloudfour/image-compare';

  // We have to jump through these hoops because I don't know
  // how to pass through the `slot` value in Astro,
  // and the image-compare component expects specific values for `slot`.
  customElements.define('image-compare-wrapper', class extends HTMLElement {
    connectedCallback() {
      const images = this.querySelectorAll('img');
      for (const [index, image] of images.entries()) {
        image.setAttribute('slot', `image-${index + 1}`);
      }
    }
  });
</script>
<image-compare-wrapper>
  <image-compare>
    <slot />
  </image-compare>
</image-compare-wrapper>
