---
import MainLayout from './MainLayout.astro';
import TableOfContents from '../components/TableOfContents.astro';

type Heading = {
  depth: number;
  slug: string;
  text: string;
};
const { headings } = Astro.props as { headings: Array<Heading> };
const h1 = headings?.find(h => h.depth === 1);
---

<MainLayout title={h1?.text}>
  <nav aria-label="Table of contents">
    <TableOfContents headings={headings} />
  </nav>
  <article class="flow">
    <slot />
  </article>
</MainLayout>
